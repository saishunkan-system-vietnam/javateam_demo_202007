<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ssv.com.demo.model.mapper.UserMapper">

	<resultMap type="User" id="userMapping">
		<id column="id" property="id" />
		<result column="name" property="name" />
		<result column="email" property="email" />
		<result column="password" property="password" />
		<result column="created_date" property="createdDate" />
		<result column="created_user" property="createdUser" />
		<result column="updated_date" property="updatedDate" />
		<result column="updated_user" property="updatedUser" />
	</resultMap>

	<insert id="save" flushCache="true" statementType="PREPARED"
		useGeneratedKeys="true" keyColumn="id" keyProperty="id">
		INSERT INTO "user"(
		name,
		email,
		password,
		created_date,
		created_user,
		updated_date,
		updated_user
		) VALUES(
		#{name},
		#{email},
		#{password},
		#{createdDate},
		#{createdUser},
		#{updatedDate},
		#{updatedUser}
		)
	</insert>

	<select id="findAll" flushCache="true" statementType="PREPARED"
		resultMap="userMapping">
		SELECT * FROM "user"
	</select>

	<select id="findByEmail" flushCache="true"
		statementType="PREPARED" resultType="User">
		SELECT * FROM "user" WHERE
		email=#{email}
	</select>

	<select id="findById" flushCache="true" statementType="PREPARED"
		resultType="User">
		SELECT * FROM "user" WHERE id=#{id}
	</select>

</mapper>